<%# Gestion des erreurs %>

<% if @customer.errors.any? %>
<h2><%= pluralize(@customer.errors.count, "error") %> prohibited this post from being saved:</h2>
<ul>
	<% @customer.errors.each do |attr, msg| %>
		<li><%= "#{attr} #{msg}\n"  if @customer.errors[attr].first == msg %></li>
	<% end %>
</ul>
<% end %>


<%# Affichage du formulaire %>

<%= form_for(@customer) do |customer_form| %>
<p>
	<%= label_tag(:name, "Name:") %>
	<%= customer_form.text_field :name %>
</p>
<p>
	<%= label_tag(:email, "Email:") %>
	<%= customer_form.text_field :email %>
<p>
<p>
	<%= label_tag(:phone, "Phone number:") %>
	<%= customer_form.text_field :phone %>
<p>
	<%= customer_form.submit %>
</p>
<% end %>
<% if @customer.persisted? %>
	<%= link_to 'Back to the customer page', customer_url(:id => @customer.id), class: "btn" %>
	<% end %>
<%= link_to 'Back to customers list', customers_path, class: "btn" %>